
Построил предварительный линейный аналог динамической модели работы электролизера. Модель нужна для обучения контроллера.

Начал реализовывать следующую архитектуру.

В контроллер поступает кривая невостребованной мощности P на каком-то интервале work_time. Думаю, кривая будет довольно постоянной на большом интервале времени.
На основе этой кривой контроллер должен сформировать команды для всех электролизеров с учетом критериев, то есть минимизируя незапасение, стоимость расходов на включение, выключение и работу, и с учетом текущих значений M-параметров каждого электролизера. M-параметрами называю, например, температуру, заряд, износ.

Поиск близкого к оптимальному решения, то есть контроллера, который будет формировать эталонные значения для каждого электролизера, предполагаю проводить следующим образом.

- Создаются матрицы параметров для нескольких контроллеров.
- В параллельных процессах запускаются симуляции с этими контроллерами.
- Каждое решение тестируется на нескольких симуляциях. 
- Выбирается 25% лучших решений, из них рассчитывается среднее и дисперсия для нормального распределения, из которого будет выбрано новое поколение. 
- Симулируем несколько поколений (нужно будет определить, когда заканчивать формирование новых поколений).

В каждой симуляции каждый контроллер выдает команды для n электролизеров. На вход контроллера подаётся интервал значений невостребованной мощности. Этот вектор пред обрабатывается какой-то подмоделью (она должна выделять высокоуровневые признаки из временного ряда и будет обучена заранее). Результирующий вектор из скрытого пространства от этой подмодели уже умножается на матрицу весов контроллера и получается вектор значений команд для электролизеров (вектор размера n).

Этот вектор и есть действие контроллера. По этому действию среда, то есть симуляция, в которой работает контроллер, моделирует работу электролизеров. Рассчитывается прибыль с запасенной энергии и затраты на работу электролизеров. Из этого будет рассчитываться оценка решения (контроллера) в каждой симуляции. По полученным оценкам отбираются лучшие для формирования нового поколения.
Планирую реализовать основную часть описанной архитектуры. Подмодель, выделяющую высокоуровневые признаки, для начала добавлять не буду.

